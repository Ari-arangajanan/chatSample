package com.wonder.chatSample.xmpp;import com.wonder.chatSample.webSocket.model.MessageType;import com.wonder.chatSample.webSocket.model.WebsocketMessage;import com.wonder.chatSample.webSocket.utility.WebSocketTextMessageHelper;import javax.websocket.EncodeException;import javax.websocket.Session;import lombok.extern.slf4j.Slf4j;import org.jivesoftware.smack.packet.Message;import org.springframework.stereotype.Component;import java.io.IOException;@Slf4j@Componentpublic class XMPPMessageTransmitter {    private final WebSocketTextMessageHelper webSocketTextMessageHelper;    public XMPPMessageTransmitter(WebSocketTextMessageHelper webSocketTextMessageHelper) {        this.webSocketTextMessageHelper = webSocketTextMessageHelper;    }    public void sendResponse(Message message, Session session) throws EncodeException, IOException {        log.info("New message from '{}' to '{}': {}", message.getFrom(), message.getTo(), message.getBody());        String messageFrom = message.getFrom().getLocalpartOrNull().toString();        String to = message.getTo().getLocalpartOrNull().toString();        String content = message.getBody();        webSocketTextMessageHelper.send(                session,                WebsocketMessage.builder().from(messageFrom).to(to).content(content).messageType(MessageType.NEW_MESSAGE).build()        );    }}